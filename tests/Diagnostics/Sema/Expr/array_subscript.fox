// RUN: %fox-verify

func foo() {
  // Valid examples
  [0,1,2][0];
  [0,1,2][true];
  [[0,1,2],[]][0];
  ([[[]]] as [[[int]]])[0][0][0];
  ['a', 'b', 'c'][0];

  // A warning should be emitted if the type of the
  // subscript expr is float
  [1,1,1][1.25]; 
  // expect-warning@-1: implicit conversion of an expression of type 'float' to 'int' may result in loss of information

  // An error should be emitted if the sub expr is not an array.
  0[0]; // expect-error: invalid types 'int' and 'int' for array subscript

  // An error should be emitted if the index expr is not integral
  [0]['c']; // expect-error: invalid types '[int]' and 'char' for array subscript
}