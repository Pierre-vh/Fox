// RUN: %fox-verify

func foo() {
  [] as [int];
  [1];
  [true];
  [3.14];
  ["foo"];
  ['b'];
  [[],[true],[3.14]];
  ['c',"c"]; // expect-error: illegal heterogeneous array
  [3,'c']; // expect-error: illegal heterogeneous array
  []; // expect-error: failed to infer the type of this expression
  [[3],[]];
  [] as [int];
  [[[]]] as [[[string]]];
  [[],[3],[3.14],[true],[]];
  [[[],[],[],[],[]],[[],[],[],[],[]]] as [[[int]]];

  [3,foo];   // expect-error:function types cannot be used within an array literals
  [[[foo]]]; // expect-error:function types cannot be used within an array literals

  // expect-error@+2:function types cannot be used within an array literals
  // expect-error@+1:function types cannot be used within an array literals
  [[],[false],[3],[foo,foo]];

  // Test that we don't have inference errors here
  // expect-error@+1: cannot use unary operator '+' on an expression of type 'char'
  [[],[1],[+'c']];
}