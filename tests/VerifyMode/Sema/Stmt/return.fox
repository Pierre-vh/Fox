// RUN: %fox-verify

func returnsVoid() {}

func foo() {
  // Here, no return value is allowed
  return;
  // We should allow return expression of type void too
  return returnsVoid();
  // not ok
  return 3; // expect-error: unexpected non-void return expression in void function
}

func bar() : int {
  // ok
  return 1;
  // not ok
  return; // expect-error: return statement with no expression in function returning 'int'
  return "s"; // expect-error: cannot convert return expression of type 'string' to return type 'int'
  return 3.14; // expect-error: cannot convert return expression of type 'double' to return type 'int'
}

func infer() : [[int]] {
  // ok
  return [];
  return [[3]];
  // not ok
  return; // expect-error: return statement with no expression in function returning '[[int]]'
  return [false]; // expect-error: cannot convert return expression of type '[bool]' to return type '[[int]]'
  return [[3.14]]; // expect-error: cannot convert return expression of type '[[double]]' to return type '[[int]]'
}