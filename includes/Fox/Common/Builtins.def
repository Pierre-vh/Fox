//----------------------------------------------------------------------------//
// This file is part of the Fox project.        
// See the LICENSE.txt file at the root of the project for license information.            
// File : Builtins.def                      
// Author : Pierre van Houtryve                
//----------------------------------------------------------------------------//
//  x-macros for macro-metaprogramming with builtin functions
//----------------------------------------------------------------------------//

/// The 'builtin' declaration macro:
///   FUNC is the name of the function in the fox::builtin namespace
///   FOX is the name the function should have in Fox code
#ifndef BUILTIN
  #define BUILTIN(FUNC, FOX)
#endif 

/// This macro is used to tell the routine that converts a Builtin's signature
/// to an AST type that some type should be ignored.
/// This just sets the BuiltinFnArgTypeTrait<TYPE>::ignored value to true.
///     TYPE is the type that should be ignored, e.g. "VM&"
#ifndef IGNORED_ARG_TYPE
  #define IGNORED_ARG_TYPE(TYPE)
#endif 

//----------------------------------------------------------------------------//

// TODO: Once I get overloads to work, rename all of these to 'print'
BUILTIN(printInt,     printInt)
BUILTIN(printBool,    printBool)
BUILTIN(printChar,    printChar)
BUILTIN(printDouble,  printDouble)
BUILTIN(printString,  printString)

// TODO: Once I get overloads to work, rename all of these to 'toString'
BUILTIN(charToString,   charToString)
BUILTIN(intToString,    intToString)
BUILTIN(doubleToString, doubleToString)
BUILTIN(boolToString,   boolToString)

// String operations
BUILTIN(strConcat,    concat)
BUILTIN(charConcat,   concatChars)
// String Object interface
BUILTIN(strLength,    length)
BUILTIN(strNumBytes,  numBytes)
BUILTIN(getChar,      getChar)

//----------------------------------------------------------------------------//

IGNORED_ARG_TYPE(VM&) // Ignore references to VM instances

//----------------------------------------------------------------------------//

#undef BUILTIN
#undef IGNORED_ARG_TYPE