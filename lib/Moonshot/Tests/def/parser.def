////------------------------------------------------------////
// This file is a part of The Moonshot Project.				
// See LICENSE.txt for license info.						
// File : parser.def
// Author : Pierre van Houtryve								
////------------------------------------------------------//// 
// This file is used to register tests using macro metaprogramming.
//
// NOTE: Every file should undefine it's macro at the end of the file.
////------------------------------------------------------////

// defines blank macros in case one of them isn't defined to avoid errors
#ifndef PARSER_TEST_GROUP
	#define PARSER_TEST_GROUP(GROUPNAME,GROUPID)
#endif

#ifndef PARSER_TEST 
	#define PARSER_TEST(SHOULDPASS,GROUPID,MODE,FILEPATH,FUNC)
#endif

#ifndef PARSER_CORRECT_TEST
	#define PARSER_CORRECT_TEST(GROUPID,MODE,FILEPATH,FUNC)		PARSER_TEST(true,GROUPID,MODE,FILEPATH,FUNC)
#endif

#ifndef PARSER_INCORRECT_TEST
	#define PARSER_INCORRECT_TEST(GROUPID,MODE,FILEPATH,FUNC)	PARSER_TEST(false,GROUPID,MODE,FILEPATH,FUNC)
#endif

/*
	ReadModes : LINES (reads the file line by line, ignoring lines beginning with #)
				WHOLE_FILE (reads the whole file)
*/

PARSER_TEST_GROUP("Expressions", expr)
	PARSER_CORRECT_TEST(expr, LINES, "expr/correct.fox", parseExpr())
	PARSER_INCORRECT_TEST(expr, LINES, "expr/incorrect.fox", parseExpr())

#undef PARSER_TEST
#undef PARSER_TEST_GROUP
#undef PARSER_CORRECT_TEST
#undef PARSER_INCORRECT_TEST
